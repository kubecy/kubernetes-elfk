# elasticsearch基础概念

## 1.ES简介

1. 是一个高度可扩展的开源全文搜索和分析引擎，它可实现数据的实时全文搜索搜索、支持分布式可实现高可用、提供 API 接口，可以处理大规模日志数据，比如 Nginx、Tomcat、系统日志等功能。
2. Elasticsearch 使用 Java 语言开发，是建立在全文搜索引擎 Apache Lucene 基础之上的搜索引擎，https://lucene.apache.org/。

## 2.ES特点和优势

1. **分布式架构**：Elasticsearch 可以在多个节点上运行，这些节点组成一个集群。集群可以横向扩展，以处理大量数据和高并发请求。通过副本（replicas）和分片（shards）机制，Elasticsearch 可以提供高可用性和故障恢复能力。
2. **实时搜索**：Elasticsearch 允许用户在数据索引后几乎立即进行搜索，这使得它非常适合需要实时反馈的应用场景。
3. **RESTful API**：Elasticsearch 提供了基于 HTTP 的 RESTful API，用户可以使用标准的 HTTP 请求来进行索引、搜索和管理操作。这使得与其他系统集成变得更加简单。
4. **数据分析和聚合**：除了搜索功能，Elasticsearch 还具备强大的数据分析能力。用户可以对数据进行聚合，生成统计信息、分组和计算指标。
5. **文档导向**：Elasticsearch 使用 JSON 格式存储数据，数据以文档的形式存储在索引中。这种文档导向的设计使得数据建模更加灵活，适合非结构化和半结构化数据。
6. **与其他工具集成**：支持插件机制，分词插件、同步插件、Hadoop插件等。通常与其他工具（如 Logstash 和 Kibana）结合使用，形成 ELK 堆栈（或 Elastic Stack），用于日志管理、数据分析和可视化。

## 3.ES基本概念

1. **集群（cluster**）：ES可以作为一个独立的单个搜索服务器。不过，一般为了处理大型数据集，实现容错和高可用性，ES可以运行在许多互相合作的服务器上。这些服务器的集合称为集群。
2. **节点（node）**：运行了单个实例的ES主机称为节点，它是集群的一个成员，可以存储数据、参与集群索引及搜索操作。节点通过为其配置的ES集群名称确定其所要加入的集群。
3. **分片（shard）**：ES的分片(shard)机制可将一个索引内部的数据分布地存储于多个节点，它通过将一个索引切分为多个底层物理的Lucene索引完成索引数据的分割存储功能，这每一个物理的Lucene索引称为一个分片(shard)。
   - 这样的好处是可以把一个大的索引拆分成多个，分布到不同的节点上。降低单服务器的压力，构成分布式搜索，提高整体检索的效率（分片数的最优值与硬件参数和数据量大小有关）。分片的数量只能在索引创建前指定，并且索引创建后不能更改。
4. **副本（replica）**：副本是一个分片的精确复制，每个分片可以有零个或多个副本。副本的作用一是提高系统的容错性，当某个节点某个分片损坏或丢失时可以从副本中恢复。二是提高es的查询效率，es会自动对搜索请求进行负载均衡。